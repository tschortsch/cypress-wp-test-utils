(()=>{var e={470:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",o=0,a=-1,c=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(a===s-1||1===c);else if(a!==s-1&&2===c){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var i=r.lastIndexOf("/");if(i!==r.length-1){-1===i?(r="",o=0):o=(r=r.slice(0,i)).length-1-r.lastIndexOf("/"),a=s,c=0;continue}}else if(2===r.length||1===r.length){r="",o=0,a=s,c=0;continue}t&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(a+1,s):r=e.slice(a+1,s),o=s-a-1;a=s,c=0}else 46===n&&-1!==c?++c:c=-1}return r}var r={resolve:function(){for(var e,r="",o=!1,a=arguments.length-1;a>=-1&&!o;a--){var c;a>=0?c=arguments[a]:(void 0===e&&(e=process.cwd()),c=e),t(c),0!==c.length&&(r=c+"/"+r,o=47===c.charCodeAt(0))}return r=n(r,!o),o?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&o&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var o=arguments[n];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var a=e.length,c=a-o,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var i=n.length-s,l=c<i?c:i,d=-1,p=0;p<=l;++p){if(p===l){if(i>l){if(47===n.charCodeAt(s+p))return n.slice(s+p+1);if(0===p)return n.slice(s+p)}else c>l&&(47===e.charCodeAt(o+p)?d=p:0===p&&(d=0));break}var u=e.charCodeAt(o+p);if(u!==n.charCodeAt(s+p))break;47===u&&(d=p)}var y="";for(p=o+d+1;p<=a;++p)p!==a&&47!==e.charCodeAt(p)||(0===y.length?y+="..":y+="/..");return y.length>0?y+n.slice(s+d):(s+=d,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,o=-1,a=!0,c=e.length-1;c>=1;--c)if(47===(n=e.charCodeAt(c))){if(!a){o=c;break}}else a=!1;return-1===o?r?"/":".":r&&1===o?"//":e.slice(0,o)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,o=0,a=-1,c=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,i=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!c){o=r+1;break}}else-1===i&&(c=!1,i=r+1),s>=0&&(l===n.charCodeAt(s)?-1==--s&&(a=r):(s=-1,a=i))}return o===a?a=i:-1===a&&(a=e.length),e.slice(o,a)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!c){o=r+1;break}}else-1===a&&(c=!1,a=r+1);return-1===a?"":e.slice(o,a)},extname:function(e){t(e);for(var n=-1,r=0,o=-1,a=!0,c=0,s=e.length-1;s>=0;--s){var i=e.charCodeAt(s);if(47!==i)-1===o&&(a=!1,o=s+1),46===i?-1===n?n=s:1!==c&&(c=1):-1!==n&&(c=-1);else if(!a){r=s+1;break}}return-1===n||-1===o||0===c||1===c&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,o=e.charCodeAt(0),a=47===o;a?(n.root="/",r=1):r=0;for(var c=-1,s=0,i=-1,l=!0,d=e.length-1,p=0;d>=r;--d)if(47!==(o=e.charCodeAt(d)))-1===i&&(l=!1,i=d+1),46===o?-1===c?c=d:1!==p&&(p=1):-1!==c&&(p=-1);else if(!l){s=d+1;break}return-1===c||-1===i||0===p||1===p&&c===i-1&&c===s+1?-1!==i&&(n.base=n.name=0===s&&a?e.slice(1,i):e.slice(s,i)):(0===s&&a?(n.name=e.slice(1,c),n.base=e.slice(1,i)):(n.name=e.slice(s,c),n.base=e.slice(s,i)),n.ext=e.slice(c,i)),s>0?n.dir=e.slice(0,s-1):a&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},222:()=>{Cypress.Commands.add("activatePlugin",(e=>{cy.visitAdminPage("plugins.php"),cy.window().then((t=>{t.document.querySelector(`tr[data-slug="${e}"] .deactivate a`)||(cy.get(`tr[data-slug="${e}"] .activate a`).click(),cy.get(`tr[data-slug="${e}"] .deactivate a`).should("exist"))}))}))},62:()=>{Cypress.Commands.add("clickBlockToolbarButton",((e,t="ariaLabel")=>{const n="block-editor-block-toolbar";"ariaLabel"===t&&cy.get(`.${n} button[aria-label="${e}"]`).click({force:!0}),"content"===t&&cy.get(`//*[@class='${n}']//button[contains(text(), '${e}')]`).click({force:!0})}))},601:()=>{Cypress.Commands.add("clickButton",(e=>{cy.xpath(`//button[contains(text(), '${e}')]`).click({force:!0})}))},706:()=>{Cypress.Commands.add("clickElementByText",((e,t,n=!1)=>{n?cy.xpath(`//${e}[text()="${t}"]`).click({force:!0}):cy.xpath(`//${e}[contains(text(),"${t}")]`).click({force:!0})}))},778:()=>{Cypress.Commands.add("closeWelcomeGuide",(()=>{cy.window().then((e=>{e.wp.data.select("core/edit-post").isFeatureActive("welcomeGuide")&&(e.wp.data.dispatch("core/edit-post").toggleFeature("welcomeGuide"),cy.reload())}))}))},151:()=>{Cypress.Commands.add("deactivatePlugin",(e=>{cy.visitAdminPage("plugins.php"),cy.window().then((t=>{t.document.querySelector(`tr[data-slug="${e}"] .delete a`)||(cy.get(`tr[data-slug="${e}"] .deactivate a`).click(),cy.get(`tr[data-slug="${e}"] .delete a`).should("exist"))}))}))},280:()=>{Cypress.Commands.add("ensureSidebarOpened",(()=>{cy.window().then((e=>{e.document.querySelector(".edit-post-sidebar")||cy.get('.edit-post-header__settings [aria-label="Settings"]').click({force:!0})}))}))},675:()=>{Cypress.Commands.add("getCheckboxByLabel",(e=>{cy.xpath(`//label[contains(@class,"components-checkbox-control__label")][contains(text(),"${e}")]/preceding-sibling::span[contains(@class,"components-checkbox-control__input-container")]/input`)}))},260:()=>{Cypress.Commands.add("getInputByLabel",(e=>{cy.get(`input[aria-label="${e}"]`)}))},942:()=>{Cypress.Commands.add("getSelectByLabel",(e=>{cy.xpath(`//label[contains(@class,"components-input-control__label") and contains(text(),"${e}")]/parent::div/following-sibling::div/select[contains(@class, "components-select-control__input")]`)}))},570:()=>{Cypress.Commands.add("getSelectedOptionBySelectLabel",(e=>{cy.xpath(`//label[contains(@class,"components-input-control__label") and contains(text(),"${e}")]/parent::div/following-sibling::div/select[contains(@class,"components-select-control__input")]`)}))},714:()=>{Cypress.Commands.add("getTextControlByLabel",(e=>{cy.xpath(`//label[contains(@class,"components-base-control__label")][contains(text(),"${e}")]/following-sibling::input[contains(@class,"components-text-control__input")]`)}))},904:()=>{Cypress.Commands.add("getToggleByLabel",(e=>{cy.xpath(`//label[contains(@class,"components-toggle-control__label")][contains(text(),"${e}")]/preceding-sibling::span[contains(@class,"components-form-toggle")]/input`)}))},975:()=>{Cypress.Commands.add("insertBlock",((e,t=e,n=null)=>{cy.searchForBlock(e),n&&cy.xpath(`//button[contains(text(), '${n}')]`).click({force:!0}),cy.xpath(`//button//span[contains(text(), '${t}')]`).click({force:!0})}))},246:()=>{Cypress.Commands.add("openGlobalBlockInserter",(()=>{cy.get('.edit-post-header [aria-label="Add block"]').click({force:!0})}))},186:()=>{Cypress.Commands.add("openSidebarPanelWithTitle",(e=>{cy.ensureSidebarOpened(),cy.xpath(`//div[contains(@class,"edit-post-sidebar")]//button[@class="components-button components-panel__body-toggle"][contains(text(),"${e}")]`).should("exist"),cy.window().then((t=>{const n=t.document.evaluate(`//div[contains(@class,"edit-post-sidebar")]//button[@class="components-button components-panel__body-toggle"][@aria-expanded="false"][contains(text(),"${e}")]`,t.document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;n&&cy.wrap(n).click({force:!0})}))}))},181:()=>{Cypress.Commands.add("openSidebarPanel",(e=>{cy.xpath(`//div[contains(@class,"edit-post-sidebar")]//button[@class="components-button components-panel__body-toggle"][contains(text(),"${e}")]`).click({force:!0})}))},450:()=>{Cypress.Commands.add("postContentMatchesSnapshot",(()=>{cy.window().then((e=>{cy.wrap(e.wp.data.select("core/editor").getEditedPostContent()).snapshot()}))}))},68:()=>{Cypress.Commands.add("searchForBlock",(e=>{cy.openGlobalBlockInserter(),cy.get("input.block-editor-inserter__search-input").type(e)}))},117:()=>{Cypress.Commands.add("selectOptionIsAvailable",((e,t)=>{cy.xpath(`//label[contains(@class,"components-input-control__label") and contains(text(),"${e}")]/parent::div/following-sibling::div/select[contains(@class,"components-select-control__input")]/option[@value="${t}"]`).should("exist")}))},388:()=>{Cypress.Commands.add("setPostContent",(e=>{cy.insertBlock("Paragraph"),cy.window().then((t=>{const n=t.wp.blocks.parse(e);t.wp.data.dispatch("core/block-editor").resetBlocks(n)}))}))},482:()=>{Cypress.Commands.add("setTextControlValueByLabel",((e,t)=>{cy.xpath(`//label[contains(@class,"components-base-control__label")][contains(text(),"${e}")]/following-sibling::input[contains(@class,"components-text-control__input")]`).type(t)}))},509:()=>{Cypress.Commands.add("toolbarOptionIsActive",((e,t)=>{cy.clickBlockToolbarButton(e),cy.xpath(`//button[contains(text(),"${t}") and contains(@class,"is-active")]`).should("exist"),cy.clickBlockToolbarButton(e)}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{"use strict";require("cypress-xpath");const e=require("@cypress/snapshot"),t=Cypress.env("WP_USERNAME")||"admin",r=Cypress.env("WP_PASSWORD")||"password",o=Cypress.env("WP_BASE_URL")||"http://localhost:8889";var a=n(470);function c(e,t=""){const n=new URL(o);return n.pathname=(0,a.join)(n.pathname,e),n.search=t,n.href}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return(function(e){var t;try{t=new URL(e,"http://example.com").search.substring(1)}catch(e){}if(t)return t}(e)||"").replace(/\+/g,"%20").split("&").reduce((function(e,t){var n=i(t.split("=").filter(Boolean).map(decodeURIComponent),2),r=n[0],o=n[1],a=void 0===o?"":o;return r&&function(e,t,n){for(var r=t.length,o=r-1,a=0;a<r;a++){var c=t[a];!c&&Array.isArray(e)&&(c=e.length.toString());var s=!isNaN(Number(t[a+1]));e[c]=a===o?n:e[c]||(s?[]:{}),Array.isArray(e[c])&&!s&&(e[c]=p({},e[c])),e=e[c]}}(e,r.replace(/\]/g,"").split("["),a),e}),{})}function y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){for(var t,n="",r=Object.entries(e);t=r.shift();){var o=i(t,2),a=o[0],c=o[1];if(Array.isArray(c)||c&&c.constructor===Object){var s,l=y(Object.entries(c).reverse());try{for(l.s();!(s=l.n()).done;){var d=i(s.value,2),p=d[0],u=d[1];r.unshift(["".concat(a,"[").concat(p,"]"),u])}}catch(e){l.e(e)}finally{l.f()}}else void 0!==c&&(null===c&&(c=""),n+="&"+[a,c].map(encodeURIComponent).join("="))}return n.substr(1)}Cypress.Commands.add("loginUser",((e=t,n=r)=>{cy.visit(c("wp-login.php")),cy.wait(500),cy.get("#user_login").clear().type(e),cy.get("#user_pass").clear().type(n),cy.get("#wp-submit").click({force:!0})})),Cypress.Commands.add("visitAdminPage",((e,t)=>{cy.visit(c((0,a.join)("wp-admin",e),t))})),n(778),n(601),n(706),n(62),n(181),Cypress.Commands.add("createNewPost",(({postType:e,title:t,content:n,excerpt:r,showWelcomeGuide:o=!1}={})=>{const a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!t||!Object.keys(t).length)return e;var n=e,r=e.indexOf("?");return-1!==r&&(t=Object.assign(u(e),t),n=n.substr(0,r)),n+"?"+h(t)}("",{post_type:e,post_title:t,content:n,excerpt:r}).slice(1);cy.visitAdminPage("post-new.php",a),o||cy.closeWelcomeGuide()})),n(246),n(68),n(975),n(450);Cypress.Commands.add("selectBlockByName",((e,t)=>{((e,t=0)=>((e,t,...n)=>cy.window().then((r=>r.wp.data.select(e)[t](...n))))("core/block-editor","getBlocks").then((n=>n.filter((t=>t.name===e))[t])))(e,t).then((e=>{var t;t=e.clientId,cy.window().then((e=>{e.wp.data.dispatch("core/block-editor").selectBlock(t)}))}))})),n(280),n(388),n(509),n(186),n(260),n(675),n(570),n(222),n(151),n(942),n(117),n(714),n(482),n(904),(0,e.register)()})()})();